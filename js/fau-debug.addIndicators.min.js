!function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic"],t):"object"==typeof exports?t(require("scrollmagic")):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(i){"use strict";var o="0.85em",n="9999",h=i._util,v=0,s=(i.Scene.extend(function(){var t,r=this;r.addIndicators=function(e){return t||(e=h.extend({},{name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"},e),v++,t=new s(r,e),r.on("add.plugin_addIndicators",t.add),r.on("remove.plugin_addIndicators",t.remove),r.on("destroy.plugin_addIndicators",r.removeIndicators),r.controller()&&t.add()),r},r.removeIndicators=function(){return t&&(t.remove(),this.off("*.plugin_addIndicators"),t=void 0),r}}),i.Controller.addOption("addIndicators",!1),i.Controller.extend(function(){function e(){m.updateBoundsPositions()}function t(){m.updateTriggerGroupPositions()}var u=this,r=u.info(),c=r.container,l=r.isDocument,f=r.vertical,m={groups:[]};this._indicators=m;return c.addEventListener("resize",t),l||(window.addEventListener("resize",t),window.addEventListener("scroll",t)),c.addEventListener("resize",e),c.addEventListener("scroll",e),this._indicators.updateBoundsPositions=function(e){for(var t,r,i,o=e?[h.extend({},e.triggerGroup,{members:[e]})]:m.groups,n=o.length,s={},d=f?"left":"top",a=f?"width":"height",g=f?h.get.scrollLeft(c)+h.get.width(c)-15:h.get.scrollTop(c)+h.get.height(c)-15;n--;)for(t=(i=o[n]).members.length,r=h.get[a](i.element.firstChild);t--;)s[d]=g-r,h.css(i.members[t].bounds,s)},this._indicators.updateTriggerGroupPositions=function(e){for(var t,r,i,o,n=e?[e]:m.groups,s=n.length,e=l?document.body:c,d=l?{top:0,left:0}:h.get.offset(e,!0),a=f?h.get.width(c)-15:h.get.height(c)-15,g=f?"width":"height",p=f?"Y":"X";s--;)r=(t=n[s]).element,i=t.triggerHook*u.info("size"),o=h.get[g](r.firstChild.firstChild)<i?"translate"+p+"(-100%)":"",h.css(r,{top:d.top+(f?i:a-t.members[0].options.indent),left:d.left+(f?a-t.members[0].options.indent:i)}),h.css(r.firstChild.firstChild,{"-ms-transform":o,"-webkit-transform":o,transform:o})},this._indicators.updateTriggerGroupLabel=function(e){var t="trigger"+(1<e.members.length?"":" "+e.members[0].options.name),e=e.element.firstChild.firstChild;e.textContent!==t&&(e.textContent=t,f)&&m.updateBoundsPositions()},this.addScene=function(e){this._options.addIndicators&&e instanceof i.Scene&&e.controller()===u&&e.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){c.removeEventListener("resize",t),l||(window.removeEventListener("resize",t),window.removeEventListener("scroll",t)),c.removeEventListener("resize",e),c.removeEventListener("scroll",e),this.$super.destroy.apply(this,arguments)},u}),function(s,d){var a,g,p=this,t=b.bounds(),r=b.start(d.colorStart),i=b.end(d.colorEnd),o=d.parent&&h.get.elements(d.parent)[0],n=(d.name=d.name||v,r.firstChild.textContent+=" "+d.name,i.textContent+=" "+d.name,t.appendChild(r),t.appendChild(i),p.options=d,p.bounds=t,p.triggerGroup=void 0,this.add=function(){g=s.controller(),a=g.info("vertical");var e=g.info("isDocument");o=o||(e?document.body:g.info("container")),e||"static"!==h.css(o,"position")||h.css(o,{position:"relative"}),s.on("change.plugin_addIndicators",u),s.on("shift.plugin_addIndicators",n),m(),l(),setTimeout(function(){g._indicators.updateBoundsPositions(p)},0)},this.remove=function(){var e;p.triggerGroup&&(s.off("change.plugin_addIndicators",u),s.off("shift.plugin_addIndicators",n),1<p.triggerGroup.members.length?((e=p.triggerGroup).members.splice(e.members.indexOf(p),1),g._indicators.updateTriggerGroupLabel(e),g._indicators.updateTriggerGroupPositions(e),p.triggerGroup=void 0):f(),c())},function(){l()}),u=function(e){"triggerHook"===e.what&&m()},c=function(){t.parentNode.removeChild(t)},l=function(){t.parentNode!==o&&(e=g.info("vertical"),h.css(r.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:d.indent,right:e?d.indent:-1,padding:e?"0 8px":"2px 4px"}),h.css(i,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?d.indent:"",bottom:e?"":d.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),o.appendChild(t));var e={};e[a?"top":"left"]=s.triggerPosition(),e[a?"height":"width"]=s.duration(),h.css(t,e),h.css(i,{display:0<s.duration()?"":"none"})},f=function(){g._indicators.groups.splice(g._indicators.groups.indexOf(p.triggerGroup),1),p.triggerGroup.element.parentNode.removeChild(p.triggerGroup.element),p.triggerGroup=void 0},m=function(){var e,t,r=s.triggerHook();if(!(p.triggerGroup&&Math.abs(p.triggerGroup.triggerHook-r)<1e-4)){for(var i,o=g._indicators.groups,n=o.length;n--;)if(i=o[n],Math.abs(i.triggerHook-r)<1e-4)return p.triggerGroup&&(1===p.triggerGroup.members.length?f():(p.triggerGroup.members.splice(p.triggerGroup.members.indexOf(p),1),g._indicators.updateTriggerGroupLabel(p.triggerGroup),g._indicators.updateTriggerGroupPositions(p.triggerGroup))),i.members.push(p),p.triggerGroup=i,void g._indicators.updateTriggerGroupLabel(i);if(p.triggerGroup){if(1===p.triggerGroup.members.length)return p.triggerGroup.triggerHook=r,void g._indicators.updateTriggerGroupPositions(p.triggerGroup);p.triggerGroup.members.splice(p.triggerGroup.members.indexOf(p),1),g._indicators.updateTriggerGroupLabel(p.triggerGroup),g._indicators.updateTriggerGroupPositions(p.triggerGroup),p.triggerGroup=void 0}e=b.trigger(d.colorTrigger),(t={})[a?"right":"bottom"]=0,t[a?"border-top-width":"border-left-width"]=1,h.css(e.firstChild,t),h.css(e.firstChild.firstChild,{padding:a?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(e),t={triggerHook:s.triggerHook(),element:e,members:[p]},g._indicators.groups.push(t),p.triggerGroup=t,g._indicators.updateTriggerGroupLabel(t),g._indicators.updateTriggerGroupPositions(t)}}}),b={start:function(e){var t=document.createElement("div"),e=(t.textContent="start",h.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),document.createElement("div"));return h.css(e,{position:"absolute",overflow:"visible",width:0,height:0}),e.appendChild(t),e},end:function(e){var t=document.createElement("div");return t.textContent="end",h.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t},bounds:function(){var e=document.createElement("div");return h.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),e.style.zIndex=n,e},trigger:function(e){var t=document.createElement("div"),r=(t.textContent="trigger",h.css(t,{position:"relative"}),document.createElement("div")),e=(h.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r.appendChild(t),document.createElement("div"));return h.css(e,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),e.style.zIndex=n,e.appendChild(r),e}}});