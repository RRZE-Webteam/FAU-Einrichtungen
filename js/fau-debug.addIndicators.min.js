!function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic"],t):"object"==typeof exports?t(require("scrollmagic")):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(i){"use strict";var o="0.85em",n="9999",h=i._util,v=0;i.Scene.extend(function(){var t,r=this;r.addIndicators=function(e){return t||(e=h.extend({},{name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"},e),v++,t=new s(r,e),r.on("add.plugin_addIndicators",t.add),r.on("remove.plugin_addIndicators",t.remove),r.on("destroy.plugin_addIndicators",r.removeIndicators),r.controller()&&t.add()),r},r.removeIndicators=function(){return t&&(t.remove(),this.off("*.plugin_addIndicators"),t=void 0),r}}),i.Controller.addOption("addIndicators",!1),i.Controller.extend(function(){var u=this,e=u.info(),c=e.container,l=e.isDocument,f=e.vertical,m={groups:[]};this._indicators=m;function t(){m.updateBoundsPositions()}function r(){m.updateTriggerGroupPositions()}return c.addEventListener("resize",r),l||(window.addEventListener("resize",r),window.addEventListener("scroll",r)),c.addEventListener("resize",t),c.addEventListener("scroll",t),this._indicators.updateBoundsPositions=function(e){for(var t,r,i,o=e?[h.extend({},e.triggerGroup,{members:[e]})]:m.groups,n=o.length,s={},d=f?"left":"top",a=f?"width":"height",g=f?h.get.scrollLeft(c)+h.get.width(c)-15:h.get.scrollTop(c)+h.get.height(c)-15;n--;)for(t=(i=o[n]).members.length,r=h.get[a](i.element.firstChild);t--;)s[d]=g-r,h.css(i.members[t].bounds,s)},this._indicators.updateTriggerGroupPositions=function(e){for(var t,r,i,o,n=e?[e]:m.groups,s=n.length,e=l?document.body:c,d=l?{top:0,left:0}:h.get.offset(e,!0),a=f?h.get.width(c)-15:h.get.height(c)-15,g=f?"width":"height",p=f?"Y":"X";s--;)r=(t=n[s]).element,i=t.triggerHook*u.info("size"),o=h.get[g](r.firstChild.firstChild)<i?"translate"+p+"(-100%)":"",h.css(r,{top:d.top+(f?i:a-t.members[0].options.indent),left:d.left+(f?a-t.members[0].options.indent:i)}),h.css(r.firstChild.firstChild,{"-ms-transform":o,"-webkit-transform":o,transform:o})},this._indicators.updateTriggerGroupLabel=function(e){var t="trigger"+(1<e.members.length?"":" "+e.members[0].options.name),e=e.element.firstChild.firstChild;e.textContent!==t&&(e.textContent=t,f&&m.updateBoundsPositions())},this.addScene=function(e){this._options.addIndicators&&e instanceof i.Scene&&e.controller()===u&&e.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){c.removeEventListener("resize",r),l||(window.removeEventListener("resize",r),window.removeEventListener("scroll",r)),c.removeEventListener("resize",t),c.removeEventListener("scroll",t),this.$super.destroy.apply(this,arguments)},u});var s=function(o,n){var s,d,a=this,t=b.bounds(),r=b.start(n.colorStart),i=b.end(n.colorEnd),g=n.parent&&h.get.elements(n.parent)[0];n.name=n.name||v,r.firstChild.textContent+=" "+n.name,i.textContent+=" "+n.name,t.appendChild(r),t.appendChild(i),a.options=n,a.bounds=t,a.triggerGroup=void 0,this.add=function(){d=o.controller(),s=d.info("vertical");var e=d.info("isDocument");g=g||(e?document.body:d.info("container")),e||"static"!==h.css(g,"position")||h.css(g,{position:"relative"}),o.on("change.plugin_addIndicators",u),o.on("shift.plugin_addIndicators",p),m(),l(),setTimeout(function(){d._indicators.updateBoundsPositions(a)},0)},this.remove=function(){var e;a.triggerGroup&&(o.off("change.plugin_addIndicators",u),o.off("shift.plugin_addIndicators",p),1<a.triggerGroup.members.length?((e=a.triggerGroup).members.splice(e.members.indexOf(a),1),d._indicators.updateTriggerGroupLabel(e),d._indicators.updateTriggerGroupPositions(e),a.triggerGroup=void 0):f(),c())};var p=function(){l()},u=function(e){"triggerHook"===e.what&&m()},c=function(){t.parentNode.removeChild(t)},l=function(){t.parentNode!==g&&(e=d.info("vertical"),h.css(r.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:n.indent,right:e?n.indent:-1,padding:e?"0 8px":"2px 4px"}),h.css(i,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?n.indent:"",bottom:e?"":n.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),g.appendChild(t));var e={};e[s?"top":"left"]=o.triggerPosition(),e[s?"height":"width"]=o.duration(),h.css(t,e),h.css(i,{display:0<o.duration()?"":"none"})},f=function(){d._indicators.groups.splice(d._indicators.groups.indexOf(a.triggerGroup),1),a.triggerGroup.element.parentNode.removeChild(a.triggerGroup.element),a.triggerGroup=void 0},m=function(){var e=o.triggerHook();if(!(a.triggerGroup&&Math.abs(a.triggerGroup.triggerHook-e)<1e-4)){for(var t,r=d._indicators.groups,i=r.length;i--;)if(t=r[i],Math.abs(t.triggerHook-e)<1e-4)return a.triggerGroup&&(1===a.triggerGroup.members.length?f():(a.triggerGroup.members.splice(a.triggerGroup.members.indexOf(a),1),d._indicators.updateTriggerGroupLabel(a.triggerGroup),d._indicators.updateTriggerGroupPositions(a.triggerGroup))),t.members.push(a),a.triggerGroup=t,void d._indicators.updateTriggerGroupLabel(t);if(a.triggerGroup){if(1===a.triggerGroup.members.length)return a.triggerGroup.triggerHook=e,void d._indicators.updateTriggerGroupPositions(a.triggerGroup);a.triggerGroup.members.splice(a.triggerGroup.members.indexOf(a),1),d._indicators.updateTriggerGroupLabel(a.triggerGroup),d._indicators.updateTriggerGroupPositions(a.triggerGroup),a.triggerGroup=void 0}!function(){var e=b.trigger(n.colorTrigger),t={};t[s?"right":"bottom"]=0,t[s?"border-top-width":"border-left-width"]=1,h.css(e.firstChild,t),h.css(e.firstChild.firstChild,{padding:s?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(e);e={triggerHook:o.triggerHook(),element:e,members:[a]};d._indicators.groups.push(e),a.triggerGroup=e,d._indicators.updateTriggerGroupLabel(e),d._indicators.updateTriggerGroupPositions(e)}()}}},b={start:function(e){var t=document.createElement("div");t.textContent="start",h.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});e=document.createElement("div");return h.css(e,{position:"absolute",overflow:"visible",width:0,height:0}),e.appendChild(t),e},end:function(e){var t=document.createElement("div");return t.textContent="end",h.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t},bounds:function(){var e=document.createElement("div");return h.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),e.style.zIndex=n,e},trigger:function(e){var t=document.createElement("div");t.textContent="trigger",h.css(t,{position:"relative"});var r=document.createElement("div");h.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r.appendChild(t);t=document.createElement("div");return h.css(t,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),t.style.zIndex=n,t.appendChild(r),t}}});